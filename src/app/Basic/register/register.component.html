<p-messages [(value)]="msgs" [enableService]="false"></p-messages>
<div class="container">
  <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6">
    <div class="text-center mb-5">
      <div class="text-900 text-3xl font-medium mb-3">Rejestracja</div>
      <span class="text-600 font-medium line-height-3">Posiadasz już konto?</span>
      <a class="font-medium no-underline ml-2 text-blue-500 cursor-pointer" (click)="decline();">Zaloguj się!</a>
    </div>
    <form [formGroup]="registerForm">

      <label for="occupation" class="block text-900 font-medium mb-2">Profesja *:</label>
      <p-dropdown autoWidth="false" [style]="{'width':'100%', 'margin-bottom': '10px'}"
                  [formGroup]="registerForm" formControlName="occupation" [options]="occupation"
                  id="occupation" class="w-full mb-3"></p-dropdown>

      <div class="formgrid grid" [style]="{'margin-bottom': '10px'}">
        <div class="field col">
          <label for="name" class="block text-900 font-medium mb-2">Imię *:</label>
          <input [formGroup]="registerForm" formControlName="name" type="text" pKeyFilter="alpha" id="name" pInputText class="w-full mb-3">
        </div>
        <div class="field col">
          <label for="surname" class="block text-900 font-medium mb-2">Nazwisko *:</label>
          <input [formGroup]="registerForm" formControlName="surname" type="text" id="surname" pKeyFilter="alpha" pInputText class="w-full mb-3">
        </div>
      </div>

      <label for="email" class="block text-900 font-medium mb-2">Adres email *:
        <p-message [style]="{'height':'15px', 'margin-bottom': '15px'}" severity="error" text="Niepoprawny adres email" [@errorState]="registerForm.controls['email'].dirty && !registerForm.controls['email'].valid ? 'visible' : 'hidden'"></p-message>
      </label>
      <input [formGroup]="registerForm" formControlName="email" type="text" id="email" [pKeyFilter]="emailRegex" [pValidateOnly]="true" pInputText class="w-full mb-3">

      <label for="password1" class="block text-900 font-medium mb-2">Hasło *:
        <p-message [style]="{'height':'15px', 'margin-bottom': '15px'}" severity="error" text="Niepoprawne hasło" *ngIf="!registerForm.controls['password'].valid&&registerForm.controls['password'].dirty"></p-message>
      </label>
      <input id="password1" type="password" [formGroup]="registerForm" formControlName="password" pInputText class="w-full mb-3">

      <label for="password2" class="block text-900 font-medium mb-2">Potwierdź hasło *:</label>
      <input id="password2" type="password" [formGroup]="registerForm" formControlName="repeatPassword" pInputText class="w-full mb-3">

      <label for="gender" class="block text-900 font-medium mb-2">Płeć *:</label>
      <p-dropdown autoWidth="false" [style]="{'width':'100%', 'margin-bottom': '10px'}"
                  [formGroup]="registerForm" formControlName="gender" [options]="gender"
                  id="gender" class="w-full mb-3"></p-dropdown>

      <label for="birthdayYear" class="block text-900 font-medium mb-2">Rok urodzenia *:
          <p-message [style]="{'height':'15px', 'margin-bottom': '15px'}" severity="error" text="Niepoprawny rok" *ngIf="!registerForm.controls['birthdayYear'].valid&&registerForm.controls['birthdayYear'].dirty"></p-message>
      </label>
      <input [formGroup]="registerForm" formControlName="birthdayYear" type="text" id="birthdayYear" pInputText class="w-full mb-3">

      <label for="region" class="block text-900 font-medium mb-2">Województwo *:</label>
      <p-dropdown autoWidth="false" [style]="{'width':'100%', 'margin-bottom': '10px'}"
                  [formGroup]="registerForm" formControlName="region" [options]="regon"
                  id="region" class="w-full mb-3"></p-dropdown>

      <label for="city" class="block text-900 font-medium mb-2">Miasto *:
        <p-message [style]="{'height':'15px', 'margin-bottom': '15px'}" severity="error" text="Niepoprawne miasto" *ngIf="!registerForm.controls['city'].valid&&registerForm.controls['surname'].dirty"></p-message>
      </label>
      <input [formGroup]="registerForm" formControlName="city" type="text" id="city" pInputText class="w-full mb-3">

      <label for="phoneNumber" class="block text-900 font-medium mb-2">Numer telefonu *:</label>
      <input [formGroup]="registerForm" formControlName="phoneNumber" type="text" id="phoneNumber" pKeyFilter="int" pInputText class="w-full mb-3">

      <div class="field-checkbox">
        <input type="checkbox" id="regulations" formControlName="regulationsAgreement">
        <label for="regulations">* Oświadczam, że zapoznałem się z<a class="font-medium no-underline ml-2 text-blue-500 cursor-pointer" (click)="decline();">regulaminem</a> serwisu i zobowiązuję się do jego przestrzegania.</label>
      </div>
    </form>
    <button pButton pRipple label="Utwórz konto" icon="pi pi-user" class="w-full" (click)="register();"></button>
  </div>
</div>
